### 介绍 ###
1、具有高度的容错能力；  
2、旨在部署在低成本的硬件上；  
3、提供对应用程序数据的高吞吐量访问；  
4、适用于具有大数据集的应用程序；  
5、放宽了POSIX要求，以实现对文件系统数据的流式访问；  
6、最初是作为Apache Nutch Web搜索引擎项目的基础结构构建的。  

### 假设和目标 ###
1、硬件故障  
  假设：硬件故障是正常现象。  
  目标：检测故障并快速，自动地从故障中恢复。  
2、流数据访问  
  假设：运行在HDFS上的应用程序应该是可以对数据进行流式访问的。  
  目标：设计用于批处理，而不是用户交互使用；重点在于数据访问的高吞吐量，而不是数据访问的低延迟。  
3、大数据集  
假设：运行在HDFS上的应用程序应该是具有大量数据集的。  
目标：设计为支持存储大文件，提供较高的数据聚合带宽，可以扩展到成百上千个节点。  
4、简单一致性模型  
假设：HDFS应用程序需要文件一次写入多次读取的访问模型。  
目标：一旦创建、写入和关闭文件后，除了追加和截断外，无需更改；只能在文件末尾追加内容，不能在文件任意位置更改。  
5、“移动计算比移动数据更便宜”  
假设：通常是将计算迁移到更靠近数据的位置，而不是将数据迁移到应用程序运行的位置。  
目标：HDFS为应用程序提供了接口，使其运行在更靠近数据的位置。  
6、跨异构硬件和软件平台的可移植性  
假设：可以将HDFS移植到其他平台  
目标：将HDFS广泛用作大量应用程序的首选平台  

### NameNode和DataNodes ###
1、主/从结构。  
2、HDFS集群有一个NameNode和管理文件系统名称空间并控制客户端对文件访问的主服务器，以及许多数据节点。  
3、NameNode执行文件系统名称空间的操作，如打开，关闭和重命名文件和目录。还确定文件块到DataNode的映射。  
4、DataNode负责处理来自文件系统客户端的读写操作。还执行文件块的创建和删除等。  
![Image Text](https://github.com/fzqgithub/bigdata_doc/blob/master/hdfsarchitecture.png)

### 文件系统命名空间 ###
1、HDFS支持创建、删除、移动和重命名等文件操作。  
2、HDFS支持用户配额和访问权限。  
3、但暂不支持硬链接和软链接。  

### 资料复制 ###
1、复制品放置：第一步  
不同机架中的两个节点之间的通信必须通过交换机进行。  
在大多数情况下，同一机架间的计算机之间的网络带宽大于不同机架中的计算机之间的网络带宽。  
>当复制因子为3时，HDFS的放置策略是：如果写入程序位于数据节点上，则将一个副本放在本地计算机上，否则放在与写入程序位于同一机架中的随机数据节点上；另一个副本放在不同（远程）机架中的节点上；最后一个放在同一个远程机架中的不同节点上。此策略减少了机架间的写流量，提高了写性能，而不会影响数据的可靠性和读取性能。
>当复制因子大于3时，则在将每个机架的副本数保持在上限（(副本-1)/机架+2）的同时，随机确定第4个和后续副本的位置。  
>由于NameNode不允许DataNode具有同一个块的多个副本，所以可创建的最大副本数是DataNode的总数。














































